{"version":3,"sources":["context/Reducer.js","context/Context.js","Components/TopBar/TopBar.jsx","Components/Header/Header.jsx","Components/Post/Post.jsx","Components/Posts/Posts.jsx","Pages/Home/Home.jsx","Pages/SinglePost/SinglePost.jsx","Pages/Single/Single.jsx","Pages/Write/Write.jsx","Pages/login/login.jsx","Pages/Register/Register.jsx","App.js","index.js"],"names":["Reducer","state","action","type","user","isFetching","error","payload","INITIAL_STATE","JSON","parse","localStorage","getItem","Context","createContext","ContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","ToolBar","useContext","className","to","onClick","username","Header","src","alt","Post","post","photo","_id","title","Date","createdAt","toDateString","desc","Posts","posts","map","p","Home","useState","setposts","search","useLocation","fetchPosts","a","axios","get","res","data","SinglePost","path","pathname","split","setPost","setTitle","setDesc","updateMode","setUpdateMode","getPost","handleDelete","delete","window","location","replace","handleUpdate","put","autoFocus","onChange","e","target","Single","Write","file","setFile","handlePublish","preventDefault","newPost","FormData","filename","now","name","append","URL","createObjectURL","onSubmit","htmlFor","id","style","display","files","placeholder","Login","userRef","useRef","passwordRef","setError","handleSubmit","current","password","ref","disabled","color","margineTop","Register","setUsername","email","setEmail","setPassword","App","exact","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3492c74d.chunk.js","sourcesContent":["const Reducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"LOGIN_START\":\r\n        return {\r\n          user: null,\r\n          isFetching: true,\r\n          error: false,\r\n        };\r\n      case \"LOGIN_SUCCESS\":\r\n        return {\r\n          user: action.payload,\r\n          isFetching: false,\r\n          error: false,\r\n        };\r\n      case \"LOGIN_FAILURE\":\r\n        return {\r\n          user: null,\r\n          isFetching: false,\r\n          error: true,\r\n        };\r\n        case \"UPDATE_START\":\r\n          return {\r\n            ...state,\r\n            isFetching:true\r\n          };\r\n        case \"UPDATE_SUCCESS\":\r\n          return {\r\n            user: action.payload,\r\n            isFetching: false,\r\n            error: false,\r\n          };\r\n        case \"UPDATE_FAILURE\":\r\n          return {\r\n            user: state.user,\r\n            isFetching: false,\r\n            error: true,\r\n          };\r\n      case \"LOGOUT\":\r\n        return {\r\n          user: null,\r\n          isFetching: false,\r\n          error: false,\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n  export default Reducer;\r\n  ","import { createContext, useEffect, useReducer } from \"react\";\r\nimport Reducer from \"./Reducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\r\n  isFetching: false,\r\n  error: false,\r\n};\r\n\r\nexport const Context = createContext(INITIAL_STATE);\r\n\r\nexport const ContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(Reducer, INITIAL_STATE);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\r\n  }, [state.user]);\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        user: state.user,\r\n        isFetching: state.isFetching,\r\n        error: state.error,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n};\r\n","import '@mui/icons-material'\r\nimport FacebookIcon from '@mui/icons-material/Facebook';\r\nimport InstagramIcon from '@mui/icons-material/Instagram';\r\nimport TwitterIcon from '@mui/icons-material/Twitter';\r\nimport { Link  } from 'react-router-dom'\r\nimport {useContext} from 'react'\r\nimport { Context } from '../../context/Context';\r\n\r\nimport './TopBar.css'\r\n\r\nconst ToolBar = () => {\r\n\r\n    const {user , dispatch } = useContext(Context);\r\n    \r\n    \r\n    const handleLogout = () => {\r\n        dispatch({type:\"LOGOUT\"})\r\n    }\r\n    return(\r\n        <>\r\n        <div className='top'>\r\n            <div className='topLeft'>\r\n                <div className = \"topIcon\"> <FacebookIcon /></div>\r\n                <div className = \"topIcon\"> <InstagramIcon /></div>\r\n                <div className = \"topIcon\"> <TwitterIcon /></div>\r\n            </div>\r\n            <div className='topCenter'>\r\n               <ul className='topList'> \r\n                    <li className='topListItem'>\r\n                        <Link className='link' to = \"/\">HOME</Link></li>\r\n                    <li className='topListItem'>\r\n                         <Link className='link' to = \"/write\">WRITE</Link></li>\r\n                    <li className='topListItem' onClick={handleLogout}>{\r\n                        user && \"LOGOUT\"\r\n                        }</li>\r\n                </ul>\r\n            </div>\r\n            <div className='topRight'>\r\n                {\r\n                    user? (<Link to={`/?user=${user.username}`} className=\"link\">\r\n                    <b className='colortop'> {\"Welcome \" + user.username}</b>\r\n                  </Link>) : (\r\n                        <ul className='topList'>\r\n                            <li className=\"topListItem\">\r\n                                 <Link className='link' to = \"/login\">LOGIN</Link> \r\n                            </li>\r\n                            <li className=\"topListItem\">\r\n                                <Link className='link' to = \"/register\">REGISTER</Link>\r\n                            </li>    \r\n                        </ul>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ToolBar","import './Header.css'\r\n\r\n\r\nconst Header = () => {\r\n    return(\r\n        <div className=\"header\">\r\n            <div className='headerTitles'> \r\n                <span className='headerTitlelg'>BLOG</span>\r\n            </div>\r\n            <img className='headerImg' src='./images/headerImage.jpg' alt='' />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import { Link } from 'react-router-dom';\r\nimport './Post.css'\r\n\r\nconst Post = ({post}) => {\r\n    const PF = \"http://localhost:9002/images/\"\r\n    return(\r\n        <div className='post'>\r\n\r\n            {post.photo && (<img className= {\"postImage\"} src={PF+post.photo} alt='' />)}\r\n            \r\n            <div className=\"postInfo\">\r\n                \r\n                <Link to={`/post/${post._id}`} className=\"link\">\r\n                <span className=\"postTitle\">{post.title}</span>\r\n                </Link>\r\n                <hr />\r\n                <span className=\"postDate\">{new Date (post.createdAt).toDateString()}</span>\r\n            </div>\r\n            <p className='postDesc'>{post.desc}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import './Posts.css'\r\nimport Post from '../Post/Post'\r\n\r\nconst Posts = ({ posts })  => {\r\n    return (\r\n      <div className=\"posts\"> \r\n        { posts.map((p) => (\r\n          <Post post={p} />\r\n        )) }\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default Posts;","import './Home.css'\r\nimport Header from '../../Components/Header/Header';\r\nimport Posts from '../../Components/Posts/Posts'\r\nimport { useState , useEffect } from 'react';\r\nimport axios from 'axios'\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst Home = () => {\r\n\r\n    const [ posts , setposts ] = useState([]);\r\n    const {search} = useLocation();\r\n  \r\n    useEffect(() => {\r\n        const fetchPosts = async () => {\r\n           const res = await axios.get(\"/posts\"+search)\r\n           setposts(res.data)\r\n        } \r\n        fetchPosts()\r\n    },[search])\r\n\r\n    return(\r\n        <>\r\n        <Header />\r\n        <div className=\"home\">\r\n            <Posts posts = {posts} />\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home;","import './SinglePost.css'\r\nimport '@mui/material'\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport { useLocation , Link} from 'react-router-dom';\r\nimport { useEffect, useState , useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { Context } from '../../context/Context'\r\n\r\nexport default function SinglePost() {\r\n  const location = useLocation();\r\n  const path = location.pathname.split(\"/\")[2];\r\n  const [post, setPost] = useState({});\r\n  const PF = \"http://localhost:9002/images/\";\r\n  const { user } = useContext(Context);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [updateMode, setUpdateMode] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const getPost = async () => {\r\n      const res = await axios.get(\"/posts/\" + path);\r\n      setPost(res.data);\r\n      setTitle(res.data.title);\r\n      setDesc(res.data.desc);\r\n    };\r\n    getPost();\r\n  }, [path]);\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axios.delete(\"/posts/\"+path, {username: user.username });\r\n      window.location.replace(\"/\");\r\n    } catch (err) {}\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      await axios.put(`/posts/${post._id}`, {\r\n        username: user.username,\r\n        title,\r\n        desc,\r\n      });\r\n      setUpdateMode(false)\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"singlePost\">\r\n      <div className=\"singlePostWrapper\">\r\n        {post.photo && (\r\n          <img src={PF + post.photo} alt=\"\" className=\"singlePostImg\" />\r\n        )}\r\n        {updateMode ? (\r\n          <input\r\n            type=\"text\"\r\n            value={title}\r\n            className=\"singlePostTitleInput\"\r\n            autoFocus\r\n            onChange={(e) => setTitle(e.target.value)}\r\n          />\r\n        ) : (\r\n          <h1 className=\"singlePostTitle\">\r\n            {title}\r\n            {post.username === user?.username && (\r\n              <span className=\"editTitle\">\r\n              <span className='editTitleIcon' onClick={()=>setUpdateMode(true)}><EditIcon /></span> \r\n              <span className='editTitleIcon' onClick={handleDelete}><DeleteIcon /></span> \r\n           </span>\r\n            )}\r\n          </h1>\r\n        )}\r\n        <div className=\"singlePostInfo\">\r\n          <span className=\"singlePostAuthor\">\r\n            Author:\r\n            <Link to={`/?user=${post.username}`} className=\"link\">\r\n              <b> {post.username}</b>\r\n            </Link>\r\n          </span>\r\n          <span className=\"singlePostDate\">\r\n            {new Date(post.createdAt).toDateString()}\r\n          </span>\r\n        </div>\r\n        {updateMode ? (\r\n          <textarea\r\n            className=\"singlePostDescInput\"\r\n            value={desc}\r\n            onChange={(e) => setDesc(e.target.value)}\r\n          />\r\n        ) : (\r\n          <p className=\"singlePostDesc\">{desc}</p>\r\n        )}\r\n        {updateMode && (\r\n          <button className=\"singlePostButton\" onClick={handleUpdate}>\r\n            Update\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import './Single.css'\r\nimport SinglePost from '../SinglePost/SinglePost';\r\n\r\nconst Single = () => {\r\n    return(\r\n        <div className=\"single\">\r\n            <SinglePost />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Single;","import './Write.css';\r\nimport '@mui/material'\r\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\r\nimport { useContext, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {Context} from '../../context/Context';\r\n\r\nconst Write = () => {\r\n\r\n    const [title , setTitle ] = useState(\"\");\r\n    const [desc , setDesc ] = useState(\"\");\r\n    const [file , setFile ] = useState(null);\r\n    const {user} = useContext(Context);\r\n    \r\n    const handlePublish = async (e) => {\r\n        e.preventDefault();\r\n        const newPost = {\r\n            username : user.username,\r\n            title,\r\n            desc,\r\n        };\r\n        if(file){\r\n            const data = new FormData();\r\n            const filename = Date.now() + file.name;\r\n            data.append(\"name\", filename)\r\n            data.append(\"file\" ,file);\r\n            newPost.photo = filename ;\r\n            try{\r\n                await axios.post(\"/upload\",data);\r\n            }catch(err){\r\n\r\n            }\r\n        }\r\n        try{\r\n          const res =  await axios.post(\"/posts\",newPost);\r\n          window.location.replace(\"/post/\"+res.data._id);\r\n        }catch(err){\r\n\r\n        }\r\n    };\r\n\r\n\r\n    return(\r\n        <div className=\"write\">\r\n            {file && <img className='WriteImage' src = {URL.createObjectURL(file)} alt='' />}\r\n\r\n            <form className='writeForm' onSubmit={handlePublish}>\r\n                <div className=\"writeFormGroup\">\r\n                    <label htmlFor='fileInput'>\r\n                       <div className=\"writeIcon\"><AddCircleOutlineIcon /></div> \r\n                    </label>\r\n                    <input type={\"file\"} id=\"fileInput\" style={{display:'none'}} onChange={(e) => setFile(e.target.files[0])}/>\r\n                    <input type={\"text\"} className=\"writeInput\" placeholder='Title' autoFocus={true} onChange ={(e) => setTitle(e.target.value)}></input>\r\n                </div>    \r\n                <div className=\"writeFormGroup\">\r\n                    <textarea className=\"writeInput writeStory\" type = \"text\" placeholder='Tell your story...' onChange ={(e) => setDesc(e.target.value)}></textarea>\r\n                    <button className=\"writeSubmit\" type='submit'>Publish</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Write;","import './login.css'\r\nimport { Link } from 'react-router-dom';\r\nimport { useContext , useRef , useState} from 'react';\r\nimport { Context } from '../../context/Context';\r\nimport axios from 'axios';\r\n\r\nconst Login = () => {\r\n\r\n    const userRef = useRef();\r\n    const passwordRef = useRef();\r\n    const {dispatch, isFetching } = useContext(Context);\r\n    const [error , setError] = useState(false);\r\n \r\n    const handleSubmit =  async (e) => {\r\n        e.preventDefault();\r\n        dispatch({type:\"LOGIN_START\"});\r\n        try{\r\n            const res = await axios.post(\"/auth/login\" , {\r\n                username : userRef.current.value,\r\n                password : passwordRef.current.value,\r\n            })\r\n        dispatch({type:\"LOGIN_SUCCESS\" , payload : res.data});   \r\n        }catch(err){\r\n            setError(true);\r\n            dispatch({type:\"LOGIN_FAILURE\"});\r\n        }\r\n    }\r\n    \r\n    return(\r\n        <div className=\"login\">\r\n            <span className=\"loginTitle\">Login</span>\r\n            <form action=\"\" className=\"loginForm\" onSubmit={handleSubmit}>\r\n                <label>Username</label>\r\n                <input type={'text'} placeholder='Enter your username....'  ref={userRef}></input>\r\n                <label>Password</label>\r\n                <input type={'password'} placeholder='Enter your Password....' ref={passwordRef}></input>\r\n                <button className=\"loginButton\" type='submit' disabled ={isFetching}>Login</button>\r\n            </form>\r\n            <button className=\"loginRegisterButton\">\r\n                <Link className='link' to = \"/register\">Register</Link></button>\r\n                {error && <span style={{color: \"red\" , margineTop :\"20px\"}}>Invalid credentials!!</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import './Register.css'\r\nimport { Link } from 'react-router-dom'\r\nimport { useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Register = () => {\r\n    const [username , setUsername] = useState(\"\");\r\n    const [email , setEmail] = useState(\"\");\r\n    const [password , setPassword] = useState(\"\");\r\n    const [error , setError] = useState(false);\r\n\r\n    const handleSubmit = async (e)=>{\r\n        e.preventDefault();\r\n        try{\r\n            const res = await axios.post(\"/auth/register\" , {\r\n                username,\r\n                email,\r\n                password,\r\n            });\r\n            res.data && window.location.replace(\"/login\");\r\n        }catch(err){\r\n            setError(true);\r\n        }\r\n    };\r\n    return(\r\n        <div className=\"register\">\r\n            <span className=\"registerTitle\">Register</span>\r\n            <form action=\"\" className=\"registerForm\" onSubmit={handleSubmit}>\r\n                <label>User Name</label>\r\n                <input type={'text'} placeholder='Enter your User Name..' onChange={(e)=>setUsername(e.target.value)}></input>\r\n                <label>Email</label>\r\n                <input type={'email'} placeholder='Enter your Email-Id..' onChange={(e)=>setEmail(e.target.value)}></input>\r\n                <label>Password</label>\r\n                <input type={'password'} placeholder='Enter your Password..' onChange={(e)=>setPassword(e.target.value)}></input>\r\n                <button className=\"registerButton\" type='submit'>Register</button>\r\n            </form>\r\n            <button className=\"registerloginButton\">\r\n            <Link className='link' to = \"/login\">Login</Link></button>\r\n            {error && <span style={{color: \"red\" , margineTop :\"20px\"}}>Something went wrong!!</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","import ToolBar from './Components/TopBar/TopBar'\nimport Home from './Pages/Home/Home'\nimport Single from './Pages/Single/Single'\nimport Write from './Pages/Write/Write';\nimport Login from './Pages/login/login';\nimport Register from './Pages/Register/Register'\n\nimport { BrowserRouter as Router , Route , Routes  } from 'react-router-dom'\nimport { useContext } from 'react';\nimport {Context} from './context/Context'\n\n\nfunction App() {\n  const { user } = useContext(Context);\n  return ( \n    <Router>\n      <ToolBar />\n      <Routes>\n        <Route exact path='/' element={user ? <Home /> : <Register />}></Route>\n        <Route exact path='/register' element={user ? <Home /> : <Register />}></Route>\n        <Route exact path='/login' element={user ? <Home /> : <Login />}></Route>\n        <Route exact path='/write' element={user ? <Write /> : <Register />}></Route>\n        <Route exact path='/post/:postId' element={<Single />}></Route>\n      </Routes>\n    </Router>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {ContextProvider} from './context/Context'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextProvider>\n    <App />\n    </ContextProvider> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}